<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8">
        <title>Jquery Ajax</title>
        <script src="js/jquery-3.6.0.js" type="text/javascript"></script>
    </head>
    <body>
       <!-- Ajax是一种异步无刷新方法，操作Dom
        用于局部刷新或无刷新
        
        jquery调用Ajax
        格式：$.ajax({});
            参数：
            type:请求方式GET/POST
            url:请求地址url
            async:是否异步，默认是true表示异步
            data:发送到服务器的数据
            dataType:预期服务器返回的数据类型
            contentType:设置请求头
            success:请求成功时调用此函数
            error:请求失败时调用此函数 -->
            
            <button type="button" id="btn">查询数据</button>
         <script type="text/javascript">
         // 点击按钮发送ajax请求，将数据显示在页面中
         $("#btn").click(function(){
             $.ajax({
               type:"get",
               url:"js/data.json",
               data:{//请求对象是一个json对象
                   //没有参数则不需要设置
               },
               dataType:"json",//预期返回的数据类型，如果是json格式，在接收到返回值时会自动封装成json对象
               //请求成功时调用的函数
               success:function(data){//data为形参名，代表的是返回的数据
                   console.log(data);//字符串
                      //将字符串转换为json对象
                      // var obj=JSON.parse(data);
                      // console.log(obj);
                  //dom操作
                  //创建一个ul
               var ul=$("<ul><ul>"); 
               //遍历返回的数据数组
               for(var i=0;i<data.length;i++)
               {
                   //得到数组中每一个元素
                   var user=data[i];
                   //创建li元素
                   var li="<li>"+user.userName+"</li>";
                   //将li放入ul中
                   ul.append(li);
               }
               console.log(ul);
               //将ul设置到body标签中
               $("body").append(ul);
               }
             });
         });      
         </script>   
    </body>
</html>
